LANDMARKS MODEL UPDATE - 2024-12-30
====================================

PROBLEM
-------
- Z coordinate (depth) from single camera is unreliable, adding noise
- Y axis was flipped (MediaPipe Y=0 is top, Y=1 is bottom)
- Only 63 raw features (21 landmarks × 3 coords) - no derived features

SOLUTION
--------
1. Drop Z axis - use only X, Y (more reliable from single camera)
2. Flip Y axis in preprocessing (1 - Y) for correct orientation
3. Add derived features: finger angles, distances between landmarks

NEW FEATURE MODES
-----------------
  Mode                  | Features | Description
  ----------------------|----------|----------------------------------
  xy                    | 42       | Just X, Y coordinates
  xyz                   | 63       | Original (X, Y, Z) - for compatibility
  xy_angles             | 56       | X, Y + 14 finger joint angles (DEFAULT)
  xy_angles_distances   | 66       | Above + 10 key distances
  full                  | 108      | Above + 42 velocity features

TRAINING
--------
  python -m src.cv_model.landmarks_train --model bigru --features xy_angles --epochs 100

  New flags:
    --features MODE   Choose feature mode (default: xy_angles)

DERIVED FEATURES
----------------
  Angles (14):
    - 2 thumb angles (MCP, IP joints)
    - 3 angles per finger × 4 fingers = 12 (index, middle, ring, pinky)

  Distances (10):
    - Thumb tip to each fingertip (4)
    - Adjacent fingertip distances (3)
    - Palm width (1)
    - Wrist to middle tip, thumb tip (2)

FILES MODIFIED
--------------
  src/cv_model/landmarks_preprocessing.py  - Feature extraction, Y flip
  src/cv_model/landmarks_train.py          - --features flag, logs feature_mode
  src/cv_model/landmarks_inference.py      - Loads feature_mode from checkpoint

VISUALIZATION NOTE
------------------
  Raw .npy files store MediaPipe coordinates (Y=0 at top).
  For correct visualization, flip Y: plot(x, 1-y)
  Preprocessing handles this automatically for model input.

NEXT STEPS
----------
  1. Train with new features: --features xy_angles
  2. Compare accuracy vs old xyz mode
  3. If more data needed, focus on different signers (not more samples from same person)
